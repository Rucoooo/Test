<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>AutoShield+ | Extended Auto Warranty Protection</title>
  <meta name="description" content="Get peace of mind with our comprehensive extended warranty plans. Protecting against unexpected repairs and costly breakdowns for all vehicle makes and models."/>
  <link rel="preconnect" href="https://fonts.googleapis.com"/>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet"/>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: { sans: ['Inter','sans-serif'] },
          colors: {
            blue: {
              50:'#F0F7FF',100:'#E0EFFF',200:'#BBD9FF',300:'#8ABBFF',
              400:'#5A9CFF',500:'#3B82F6',600:'#2563EB',700:'#1D4ED8',
              800:'#1E40AF',900:'#1E3A8A'
            }
          }
        }
      }
    }
  </script>
  <style>
    html { scroll-behavior: smooth; }
    body { font-family: 'Inter', sans-serif; }
    ::-webkit-scrollbar { width:10px }
    ::-webkit-scrollbar-track { background:#f1f1f1 }
    ::-webkit-scrollbar-thumb { background:#60a5fa; border-radius:9999px }
    ::-webkit-scrollbar-thumb:hover { background:#3b82f6 }
    .dropdown-content { display:none; opacity:0; transform:translateY(-10px); transition:opacity .3s, transform .3s }
    .dropdown-content.show { display:block; opacity:1; transform:translateY(0) }
    .section-animate { opacity:0; transform:translateY(20px); transition:opacity .5s ease-out, transform .5s ease-out }
    .section-animate.visible { opacity:1; transform:translateY(0) }
  </style>
</head>
<body class="bg-white text-gray-900">

  <!-- Header -->
  <header id="header" class="fixed w-full bg-white z-50 py-5 transition-all">
    <div class="max-w-7xl mx-auto px-4 flex justify-between items-center">
      <div class="text-2xl font-bold">AutoShield+</div>
      <nav class="hidden md:flex space-x-6">
        <a href="#features" class="hover:text-blue-600">Features</a>
        <a href="#coverage" class="hover:text-blue-600">Coverage</a>
        <a href="#testimonials" class="hover:text-blue-600">Testimonials</a>
        <a href="#faq" class="hover:text-blue-600">FAQ</a>
      </nav>
      <button id="mobile-menu-button" class="md:hidden">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none"
             stroke="currentColor" stroke-width="2" stroke-linecap="round"
             stroke-linejoin="round">
          <line x1="4" y1="6" x2="20" y2="6"/>
          <line x1="4" y1="12" x2="20" y2="12"/>
          <line x1="4" y1="18" x2="20" y2="18"/>
        </svg>
      </button>
    </div>
    <div id="mobile-menu" class="hidden bg-white">
      <a href="#features" class="block px-4 py-2">Features</a>
      <a href="#coverage" class="block px-4 py-2">Coverage</a>
      <a href="#testimonials" class="block px-4 py-2">Testimonials</a>
      <a href="#faq" class="block px-4 py-2">FAQ</a>
    </div>
  </header>

  <main class="pt-24">

    <!-- Hero & Quote Form -->
    <section class="bg-blue-900 text-white py-20">
      <div class="max-w-3xl mx-auto text-center px-4">
        <h1 class="text-4xl md:text-5xl font-bold mb-4">Extended Auto Warranty Protection</h1>
        <p class="mb-8 text-lg">Get a free, no-obligation quote in seconds. Protect your vehicle today.</p>
        <div class="grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6">
          <!-- Make -->
          <div class="relative">
            <label class="block mb-1 font-medium text-blue-200">Vehicle Make</label>
            <button id="maker-dropdown"
                    class="w-full bg-white/10 border border-white/30 rounded-lg p-3 flex justify-between items-center">
              <span id="maker-text">Select make</span>
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none"
                   stroke="currentColor" stroke-width="2">
                <polyline points="6 9 12 15 18 9"/>
              </svg>
            </button>
            <div id="maker-content"
                 class="dropdown-content absolute z-10 mt-1 w-full bg-white rounded-lg shadow-lg max-h-60 overflow-y-auto"></div>
          </div>
          <!-- Model -->
          <div class="relative">
            <label class="block mb-1 font-medium text-blue-200">Vehicle Model</label>
            <button id="model-dropdown" disabled
                    class="w-full bg-white/10 border border-white/30 rounded-lg p-3 flex justify-between items-center opacity-50">
              <span id="model-text">Select model</span>
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none"
                   stroke="currentColor" stroke-width="2">
                <polyline points="6 9 12 15 18 9"/>
              </svg>
            </button>
            <div id="model-content"
                 class="dropdown-content absolute z-10 mt-1 w-full bg-white rounded-lg shadow-lg max-h-60 overflow-y-auto"></div>
          </div>
          <!-- Year -->
          <div class="relative">
            <label class="block mb-1 font-medium text-blue-200">Vehicle Year</label>
            <button id="year-dropdown" disabled
                    class="w-full bg-white/10 border border-white/30 rounded-lg p-3 flex justify-between items-center opacity-50">
              <span id="year-text">Select year</span>
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none"
                   stroke="currentColor" stroke-width="2">
                <polyline points="6 9 12 15 18 9"/>
              </svg>
            </button>
            <div id="year-content"
                 class="dropdown-content absolute z-10 mt-1 w-full bg-white rounded-lg shadow-lg max-h-60 overflow-y-auto"></div>
          </div>
        </div>
        <button id="quote-button" disabled
                class="w-full px-6 py-3 rounded-lg font-semibold bg-white/30 text-white/70 cursor-not-allowed">
          Get Instant Quote
        </button>
        <p class="text-center text-xs text-blue-200 mt-2">Free, no-obligation quote. Your information is secure.</p>
      </div>
    </section>

    <!-- (Other sections remain exactly as you already have them: Features, Coverage, Testimonials, FAQ, CTA, Footer…) -->

  </main>

  <script>
  document.addEventListener('DOMContentLoaded', () => {
    // --- 1) DEFINE YOUR MAKES ---
    const autoMakers = [
      'Toyota','Honda','Ford','Chevrolet','BMW','Mercedes-Benz','Audi','Nissan',
      'Hyundai','Kia','Volkswagen','Subaru','Mazda','Lexus','Acura','Infiniti',
      'Buick','Cadillac','Chrysler','Dodge','Jeep','Lincoln','Genesis','Volvo',
      'MINI','Porsche','Jaguar','Land Rover','Maserati','Tesla','Mitsubishi',
      'RAM','GMC','FIAT','Alfa Romeo'
    ];

    // --- 2) YEARS (last 30) ---
    const years = Array.from({length:30},(_,i)=>new Date().getFullYear()-i);

    // --- STATE & DOM REFS ---
    let selMaker=null, selModel=null, selYear=null;
    const md = document.getElementById('maker-dropdown'),
          mdt = document.getElementById('maker-text'),
          mc = document.getElementById('maker-content'),
          od = document.getElementById('model-dropdown'),
          odt = document.getElementById('model-text'),
          oc = document.getElementById('model-content'),
          yd = document.getElementById('year-dropdown'),
          ydt = document.getElementById('year-text'),
          yc = document.getElementById('year-content'),
          qb = document.getElementById('quote-button');

    // --- 3) POPULATE MAKES ---
    autoMakers.forEach(make=>{
      const div = document.createElement('div');
      div.className='px-4 py-2 hover:bg-blue-50 cursor-pointer text-gray-900';
      div.textContent = make;
      div.onclick = () => {
        selMaker = make;
        mdt.textContent = make;
        mc.classList.remove('show');

        // enable model dropdown
        od.disabled = false;
        od.classList.remove('opacity-50');
        selModel = selYear = null;
        odt.textContent = 'Select model';
        ydt.textContent = 'Select year';
        yd.disabled = true;
        yd.classList.add('opacity-50');

        // fetch all models for that make via vPIC API
        oc.innerHTML = '<div class="p-4 text-gray-500">Loading models…</div>';
        fetch(`https://vpic.nhtsa.dot.gov/api/vehicles/getmodelsformake/${encodeURIComponent(make)}?format=json`)
          .then(res => res.json())
          .then(data => {
            oc.innerHTML = '';
            // Extract, filter (2000+), sort
            const models = data.Results
              .map(r=>r.Model_Name)
              .filter(name=>{
                const yearPrefix = parseInt(name.slice(0,4));
                return isNaN(yearPrefix) || yearPrefix >= 2000;
              })
              .sort((a,b)=>a.localeCompare(b));
            models.forEach(model=>{
              const e = document.createElement('div');
              e.className = 'px-4 py-2 hover:bg-blue-50 cursor-pointer text-gray-900';
              e.textContent = model;
              e.onclick = () => selectModel(model);
              oc.appendChild(e);
            });
          });

        updateButton();
      };
      mc.appendChild(div);
    });

    // --- 4) SELECT MODEL & POPULATE YEARS ---
    function selectModel(model){
      selModel = model;
      odt.textContent = model;
      oc.classList.remove('show');

      yd.disabled = false;
      yd.classList.remove('opacity-50');
      selYear = null;
      ydt.textContent = 'Select year';

      yc.innerHTML = '';
      years.forEach(y=>{
        const div = document.createElement('div');
        div.className='px-4 py-2 hover:bg-blue-50 cursor-pointer text-gray-900';
        div.textContent = y;
        div.onclick = () => {
          selYear = y;
          ydt.textContent = y;
          yc.classList.remove('show');
          updateButton();
        };
        yc.appendChild(div);
      });

      updateButton();
    }

    // --- 5) ENABLE QUOTE BUTTON WHEN READY ---
    function updateButton(){
      const ready = selMaker && selModel && selYear;
      qb.disabled = !ready;
      qb.className = ready
        ? 'w-full px-6 py-3 rounded-lg font-semibold bg-white text-blue-900 hover:bg-blue-100 cursor-pointer'
        : 'w-full px-6 py-3 rounded-lg font-semibold bg-white/30 text-white/70 cursor-not-allowed';
    }

    // --- 6) DROPDOWN TOGGLES ---
    md.onclick = e=>{
      e.stopPropagation();
      mc.classList.toggle('show');
      oc.classList.remove('show');
      yc.classList.remove('show');
    };
    od.onclick = e=>{
      if (od.disabled) return;
      e.stopPropagation();
      oc.classList.toggle('show');
      mc.classList.remove('show');
      yc.classList.remove('show');
    };
    yd.onclick = e=>{
      if (yd.disabled) return;
      e.stopPropagation();
      yc.classList.toggle('show');
      mc.classList.remove('show');
      oc.classList.remove('show');
    };
    document.addEventListener('click',()=>{
      mc.classList.remove('show');
      oc.classList.remove('show');
      yc.classList.remove('show');
    });

    // --- 7) MOBILE MENU & SCROLL EFFECTS & SECTION ANIMATIONS & FAQ (unchanged) ---
    document.getElementById('mobile-menu-button')
      .addEventListener('click',()=>document.getElementById('mobile-menu').classList.toggle('hidden'));

    window.addEventListener('scroll',()=>{
      const h = document.getElementById('header');
      if (window.scrollY > 50) {
        h.classList.add('py-3','shadow-lg');
        h.classList.remove('py-5');
      } else {
        h.classList.remove('py-3','shadow-lg');
        h.classList.add('py-5');
      }
    });

    document.querySelectorAll('.section-animate').forEach(sec=>{
      new IntersectionObserver(entries=>{
        entries.forEach(ent=>ent.isIntersecting&&ent.target.classList.add('visible'));
      },{threshold:0.1}).observe(sec);
    });

    document.querySelectorAll('.faq-question').forEach(btn=>{
      btn.addEventListener('click',()=>btn.nextElementSibling.classList.toggle('hidden'));
    });

  });
  </script>
</body>
</html>
